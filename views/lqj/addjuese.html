<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>新增角色信息</title>
		<link rel="stylesheet" type="text/css" href="../../assets/css/layui.css" />
	</head>
	<body>
		<form class="layui-form layui-form-pane" lay-filter="example">
			<div class="layui-form-item">
				<label class="layui-form-label" style="width:100px;">员工编码</label>
				<div class="layui-input-inline">
					<input type="text" name="jurisdictioncode" lay-verify="required" placeholder="请输入员工编码" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="width:100px;">员工角色</label>
				<div class="layui-input-inline">
					<input type="text" name="jurisdictionname" lay-verify="required" placeholder="请输入员工角色" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<div class="layui-input-block">
					<button type="button" id="btn1" class="layui-btn">立即提交</button>
					<button type="button" id="btn2" class="layui-btn layui-btn-primary">重置</button>
				</div>
			</div>
		</form>
	</body>
	<script src="../../js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../assets/layui.js" type="text/javascript" charset="utf-8"></script>
	<script>
		layui.use('form', function() {
			var form = layui.form;

			$("#btn1").click(function(){
				var jurisdictioncode = $("[name=jurisdictioncode]").val();
				var jurisdictionname = $("[name=jurisdictionname]").val();
				
				if(jurisdictioncode=="" || jurisdictioncode==null){
					alert("员工编码不能为空...");
					return;
				}
				if(jurisdictionname=="" || jurisdictionname==null){
					alert("员工角色不能为空...");
					return;
				}
	
				var jueSe = {};
				jueSe["jurisdictioncode"] = jurisdictioncode;
				jueSe["jurisdictionname"] = jurisdictionname;
				
				$.ajax({
					url: "http://127.0.0.1:8080/dzw_sys/api/Jurisdictions/juese",
					type: "post",
					dataType: "json",
					contentType: "application/json",
					data: JSON.stringify(jueSe),
					success: function(data) {
						console.log(data);
						if(data["code"] == 200) {
							CloseWin();
						}
					}
				});
			});

			$("#btn2").click(function() {
				$("[name=jurisdictioncode]").val("");
				$("[name=jurisdictionname]").val("");
			});

			function CloseWin() {
				parent.location.reload(); // 父页面刷新
				var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
				parent.layer.close(index); //再执行关闭 
			}

			//监听提交
			/*form.on('submit(formDemo)', function(data) {
				layer.msg(JSON.stringify(data.field));
				return false;
			});*/
		});
	</script>

</html>